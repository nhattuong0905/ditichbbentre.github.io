<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√¨nh lu·∫≠n c√≥ Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
/* ----- T·ªïng th·ªÉ ----- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Body */
body {
    font-family: 'Noto Sans', sans-serif;
    background: url('https://mia.vn/media/uploads/blog-du-lich/du-lich-xanh-ben-tre-va-nhung-trai-nghiem-khong-the-bo-lo-2-1667807248.jpg') no-repeat center center fixed;
    background-size: cover;
    text-align: center;
    padding: 20px;
    color: #e8f5e9; /* Xanh r√™u nh·∫°t */
}

/* L·ªõp ph·ªß n·ªÅn gi√∫p l√†m r√µ n·ªôi dung */
body::before {
    content: "";
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 50, 30, 0.45); /* TƒÉng ƒë·ªô r√µ l√™n */
    backdrop-filter: blur(5px);
    z-index: -1;
}

/* Header */
header {
    background: rgba(255, 255, 255, 0.15);
    color: #e8f5e9;
    text-align: center;
    padding: 20px;
    border-radius: 8px;
    backdrop-filter: blur(6px);
}

/* ----- Container ----- */
.container {
    width: 90%;
    max-width: 500px;
    margin: auto;
    background: rgba(255, 165, 0, 0.15); /* Cam nh·∫°t */
    padding: 20px;
    border-radius: 10px;
    border: 2px solid rgba(255, 165, 0, 0.6); /* Vi·ªÅn cam ƒë·∫≠m h∆°n */
    backdrop-filter: blur(10px);
}

/* Ti√™u ƒë·ªÅ */
h1 {
    font-size: 22px;
    font-weight: bold;
    color: rgba(255, 200, 100, 0.9); /* Cam nh·∫π */
    text-transform: uppercase;
}

/* Input & Textarea */
input, textarea {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border: 2px solid rgba(255, 140, 0, 0.6); /* Vi·ªÅn cam */
    border-radius: 5px;
    font-size: 16px;
    background: rgba(255, 255, 255, 0.2);
    color: #e8f5e9;
    backdrop-filter: blur(5px);
    outline: none;
}

input::placeholder, textarea::placeholder {
    color: rgba(255, 200, 150, 0.6);
}

input:focus, textarea:focus {
    background: rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 140, 0, 0.9);
}

/* N√∫t b·∫•m */
button {
    background: linear-gradient(90deg, rgba(255, 140, 0, 0.6), rgba(100, 200, 150, 0.6)); /* Cam - Xanh pastel */
    color: #fff;
    padding: 12px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    width: 100%;
    margin-top: 10px;
    transition: 0.3s;
}

button:hover {
    background: linear-gradient(90deg, rgba(255, 140, 0, 0.8), rgba(100, 200, 150, 0.8));
}

/* ----- B√¨nh lu·∫≠n ----- */
.comment-item {
    background: rgba(255, 165, 0, 0.2); /* Cam nh·∫π */
    color: rgba(220, 240, 220, 0.9);
    border-left: 4px solid rgba(255, 165, 0, 0.8); /* Vi·ªÅn cam */
    padding: 12px;
    border-radius: 5px;
    margin-top: 10px;
    backdrop-filter: blur(6px);
}

/* Font ch·ªØ b√¨nh lu·∫≠n */
.comment-item strong {
    font-weight: bold;
    color: rgba(255, 200, 100, 0.9);
}

/* N√∫t x√≥a (Admin) */
.delete-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(255, 70, 70, 0.6);
    color: white;
    border: none;
    padding: 6px 10px;
    font-size: 12px;
    border-radius: 3px;
    cursor: pointer;
    transition: 0.3s;
}

.delete-btn:hover {
    background: rgba(255, 70, 70, 0.8);
}

/* Footer */
footer {
    margin-top: 20px;
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
}

/* Thanh ƒëi·ªÅu h∆∞·ªõng */
nav ul {
    list-style: none;
    padding: 10px 0;
    display: flex;
    justify-content: center;
}

nav ul li {
    margin: 0 15px;
}

nav ul li a {
    text-decoration: none;
    color: rgba(220, 240, 220, 0.9);
    font-size: 1.1rem;
    font-weight: bold;
    padding: 10px 15px;
    border-radius: 5px;
    transition: 0.3s;
}

nav ul li a:hover {
    background: rgba(255, 165, 0, 0.3);
}
    </style>
</head>
<body>
<header>
        <h1>N·∫øu b·∫°n y√™u th√≠ch ho·∫∑c c√≥ g√≥p √Ω g√¨ th√¨ h√£y ƒë·ªÉ l·∫°i b√¨nh lu·∫≠n cho ch√∫ng m√¨nh ƒë∆∞·ª£c bi√™tüòóüòóüòó</h1>
        <nav>
            <ul>
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="about.html">Gi·ªõi thi·ªáu</a></li>
              <li><a href="lich_su">Di t√≠ch l·ªãch s·ª≠</a></li>
                <li><a href="van_hoa">Di t√≠ch vƒÉn h√≥a</a></li>
            </ul>
        </nav>
    </header>
 

    <!-- Form B√¨nh lu·∫≠n -->
    <div class="container" id="commentSection">
        <h1>B√¨nh lu·∫≠n</h1>
        <form id="commentForm">
            <input type="text" id="name" placeholder="T√™n c·ªßa b·∫°n" required>
            <input type="email" id="email" placeholder="Email c·ªßa b·∫°n" required>
            <textarea id="comment" placeholder="Nh·∫≠p b√¨nh lu·∫≠n..." required></textarea>
            <button type="submit">G·ª≠i b√¨nh lu·∫≠n</button>
        </form>
        <div id="commentsSection">
            <h2>C√°c b√¨nh lu·∫≠n</h2>
            <ul id="commentsList"></ul>
        </div>
    </div>

    <!-- ƒêƒÉng nh·∫≠p Admin -->
    <div class="container" id="adminLogin">
        <h1>ƒêƒÉng nh·∫≠p Admin</h1>
        <input type="password" id="adminPass" placeholder="Nh·∫≠p m·∫≠t kh·∫©u">
        <button onclick="adminLogin()">ƒêƒÉng nh·∫≠p</button>
    </div>

    <button id="logoutBtn" onclick="adminLogout()">ƒêƒÉng xu·∫•t</button>

    <script>
        // C·∫•u h√¨nh EmailJS
        emailjs.init("DvXqS09eAE2aMkR05");

        let isAdmin = sessionStorage.getItem("isAdmin") === "true";

        function adminLogin() {
            let pass = document.getElementById("adminPass").value;
            if (pass === "goatmessi") {
                sessionStorage.setItem("isAdmin", "true");
                location.reload();
            } else {
                alert("‚ùå Sai m·∫≠t kh·∫©u!");
            }
        }

        function adminLogout() {
            sessionStorage.removeItem("isAdmin");
            location.reload();
        }

        function updateAdminUI() {
            document.getElementById("adminLogin").style.display = isAdmin ? "none" : "block";
            document.getElementById("logoutBtn").style.display = isAdmin ? "block" : "none";
            document.querySelectorAll(".delete-btn").forEach(btn => {
                btn.style.display = isAdmin ? "block" : "none";
            });
        }

        document.getElementById("commentForm").addEventListener("submit", function(event) {
            event.preventDefault();
            let name = document.getElementById("name").value.trim();
            let email = document.getElementById("email").value.trim();
            let comment = document.getElementById("comment").value.trim();
            let timestamp = new Date().toLocaleString();

            if (name && email && comment) {
                let commentData = { from_name: name, reply_to: email, message: comment, timestamp };
                saveComment(commentData);
                addCommentToDOM(commentData);
                sendCommentEmail(commentData);
                document.getElementById("commentForm").reset();
            }
        });

        function saveComment(commentData) {
            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments.push(commentData);
            localStorage.setItem("comments", JSON.stringify(comments));
        }

        function addCommentToDOM(commentData) {
            let commentList = document.getElementById("commentsList");
            let listItem = document.createElement("li");
            listItem.className = "comment-item";
            listItem.innerHTML = `<strong>${commentData.from_name}:</strong> ${commentData.message} 
                                  <div class="comment-meta">${commentData.timestamp}</div>`;

            let deleteBtn = document.createElement("button");
            deleteBtn.className = "delete-btn";
            deleteBtn.textContent = "X√≥a";
            deleteBtn.onclick = function () { removeComment(listItem, commentData); };
            deleteBtn.style.display = isAdmin ? "block" : "none";

            listItem.appendChild(deleteBtn);
            commentList.appendChild(listItem);
        }

        function removeComment(listItem, commentData) {
            listItem.remove();
            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments = comments.filter(c => c.message !== commentData.message);
            localStorage.setItem("comments", JSON.stringify(comments));
        }

        function sendCommentEmail(commentData) {
            emailjs.send("service_3k3ggd9", "template_6n7f8qs", commentData)
                .then(response => alert("üìß B√¨nh lu·∫≠n ƒë√£ g·ª≠i!"))
                .catch(error => alert("‚ùå G·ª≠i email th·∫•t b·∫°i."));
        }

        function loadComments() {
            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments.forEach(addCommentToDOM);
        }

        loadComments();
        updateAdminUI();
    </script>

    <footer>
        <p>L∆∞u √Ω: b√¨nh lu·∫≠n s·∫Ω ƒë∆∞·ª£c g·ª≠i v·ªÅ mail c·ªßa admin v√† c√°c b√¨nh lu·∫≠n vi ph·∫°m ƒë·ªÅu s·∫Ω b·ªã xo√°.</p>
    </footer>
</body>
</html>
