<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√¨nh lu·∫≠n c√≥ Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
   /* ----- T·ªïng th·ªÉ ----- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Noto Sans', sans-serif;
    background: url('https://xdcs.cdnchinhphu.vn/446259493575335936/2023/11/20/bentre-17004677444331945175130.jpg') no-repeat center center fixed;
    background-size: cover;
    text-align: center;
    padding: 20px;
    position: relative;
    color: #fff;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
}

/* L·ªõp ph·ªß t·ªëi gi√∫p ch·ªØ d·ªÖ ƒë·ªçc */
body::before {
    content: "";
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: -1;
}

/* ----- Container ----- */
.container {
    width: 90%;
    max-width: 500px;
    margin: auto;
    background: rgba(255, 255, 255, 0.95);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(255, 255, 255, 0.5);
    margin-bottom: 20px;
}

/* Ti√™u ƒë·ªÅ ch√≠nh */
h1 {
    font-size: 24px;
    font-weight: bold;
    color: #ffcc00;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 3px 3px 6px rgba(255, 204, 0, 0.7);
}

/* Input & Textarea */
input, textarea {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border: 2px solid #ffcc00;
    border-radius: 5px;
    font-size: 16px;
    background: #fff;
    color: #333;
}

input:focus, textarea:focus {
    border-color: #ff6600;
    outline: none;
    box-shadow: 0 0 10px rgba(255, 102, 0, 0.7);
}

/* N√∫t b·∫•m */
button {
    background: linear-gradient(90deg, #ff6600, #ffcc00);
    color: white;
    padding: 12px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    width: 100%;
    margin-top: 10px;
    transition: 0.3s;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
}

button:hover {
    background: linear-gradient(90deg, #ff4500, #ff9900);
    box-shadow: 0 0 15px rgba(255, 153, 0, 0.8);
}

/* ----- B√¨nh lu·∫≠n ----- */
.comment-item {
    background: #f9f9f9;
    color: #333;
    border-left: 5px solid #ff6600;
    padding: 12px;
    border-radius: 5px;
    margin-top: 10px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
    position: relative;
    text-align: left;
}

/* C·∫£i thi·ªán font ch·ªØ trong b√¨nh lu·∫≠n */
.comment-item strong {
    font-weight: bold;
    color: #ff6600;
    font-size: 16px;
}

.comment-item .comment-meta {
    font-size: 12px;
    color: #666;
    margin-top: 5px;
}

/* N√∫t x√≥a (Admin) */
.delete-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: red;
    color: white;
    border: none;
    padding: 6px 10px;
    font-size: 12px;
    border-radius: 3px;
    cursor: pointer;
    display: none;
    transition: 0.3s;
}

.delete-btn:hover {
    background: darkred;
}

/* Footer */
footer {
    margin-top: 20px;
    font-size: 14px;
    text-shadow: none;
    color: #ddd;
}
    </style>
</head>
<body>

    <h1>n·∫øu th·∫•y y√™u th√≠ch ho·∫∑c g√≥p √Ω g√¨ h√£y ƒë·ªÉ l·∫°i b√¨nh lu·∫≠n ƒë·ªÉ ch√∫ng t√¥i ƒë∆∞·ª£c bi·∫øtüòóüòóüòó</h1>

    <!-- Form B√¨nh lu·∫≠n -->
    <div class="container" id="commentSection">
        <h1>B√¨nh lu·∫≠n</h1>
        <form id="commentForm">
            <input type="text" id="name" placeholder="T√™n c·ªßa b·∫°n" required>
            <input type="email" id="email" placeholder="Email c·ªßa b·∫°n" required>
            <textarea id="comment" placeholder="Nh·∫≠p b√¨nh lu·∫≠n..." required></textarea>
            <button type="submit">G·ª≠i b√¨nh lu·∫≠n</button>
        </form>
        <div id="commentsSection">
            <h2>C√°c b√¨nh lu·∫≠n</h2>
            <ul id="commentsList"></ul>
        </div>
    </div>

    <!-- ƒêƒÉng nh·∫≠p Admin -->
    <div class="container" id="adminLogin">
        <h1>ƒêƒÉng nh·∫≠p Admin</h1>
        <input type="password" id="adminPass" placeholder="Nh·∫≠p m·∫≠t kh·∫©u">
        <button onclick="adminLogin()">ƒêƒÉng nh·∫≠p</button>
    </div>

    <button id="logoutBtn" onclick="adminLogout()">ƒêƒÉng xu·∫•t</button>

    <script>
        // C·∫•u h√¨nh EmailJS
        emailjs.init("DvXqS09eAE2aMkR05");

        let isAdmin = sessionStorage.getItem("isAdmin") === "true";

        function adminLogin() {
            let pass = document.getElementById("adminPass").value;
            if (pass === "goatmessi") {
                sessionStorage.setItem("isAdmin", "true");
                location.reload();
            } else {
                alert("‚ùå Sai m·∫≠t kh·∫©u!");
            }
        }

        function adminLogout() {
            sessionStorage.removeItem("isAdmin");
            location.reload();
        }

        function updateAdminUI() {
            document.getElementById("adminLogin").style.display = isAdmin ? "none" : "block";
            document.getElementById("logoutBtn").style.display = isAdmin ? "block" : "none";
            document.querySelectorAll(".delete-btn").forEach(btn => {
                btn.style.display = isAdmin ? "block" : "none";
            });
        }

        document.getElementById("commentForm").addEventListener("submit", function(event) {
            event.preventDefault();
            let name = document.getElementById("name").value.trim();
            let email = document.getElementById("email").value.trim();
            let comment = document.getElementById("comment").value.trim();
            let timestamp = new Date().toLocaleString();

            if (name && email && comment) {
                let commentData = { from_name: name, reply_to: email, message: comment, timestamp };
                saveComment(commentData);
                addCommentToDOM(commentData);
                sendCommentEmail(commentData);
                document.getElementById("commentForm").reset();
            }
        });

        function saveComment(commentData) {
            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments.push(commentData);
            localStorage.setItem("comments", JSON.stringify(comments));
        }

        function addCommentToDOM(commentData) {
            let commentList = document.getElementById("commentsList");
            let listItem = document.createElement("li");
            listItem.className = "comment-item";
            listItem.innerHTML = `<strong>${commentData.from_name}:</strong> ${commentData.message} 
                                  <div class="comment-meta">${commentData.timestamp}</div>`;

            let deleteBtn = document.createElement("button");
            deleteBtn.className = "delete-btn";
            deleteBtn.textContent = "X√≥a";
            deleteBtn.onclick = function () { removeComment(listItem, commentData); };
            deleteBtn.style.display = isAdmin ? "block" : "none";

            listItem.appendChild(deleteBtn);
            commentList.appendChild(listItem);
        }

        function removeComment(listItem, commentData) {
            listItem.remove();
            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments = comments.filter(c => c.message !== commentData.message);
            localStorage.setItem("comments", JSON.stringify(comments));
        }

        function sendCommentEmail(commentData) {
            emailjs.send("service_3k3ggd9", "template_6n7f8qs", commentData)
                .then(response => alert("üìß B√¨nh lu·∫≠n ƒë√£ g·ª≠i!"))
                .catch(error => alert("‚ùå G·ª≠i email th·∫•t b·∫°i."));
        }

        function loadComments() {
            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments.forEach(addCommentToDOM);
        }

        loadComments();
        updateAdminUI();
    </script>
<footer>
        <p>L∆∞u √Ω:m·ªçi b√¨nh lu·∫≠n kh√¥ng h·ª£p ti√™u chu·∫©n c·ªông ƒë·ªìng ƒë·ªÅ s·∫Ω b·ªã xo√°!!</p>
    </footer>
</body>
</html>
